!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)};const t=new Set,n=new WeakMap,i=new WeakMap,o=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,d=new WeakMap,c=new WeakSet;let f;const u="__aa_tgt",l="__aa_del",p=e=>{const t=function(e){return e.reduce(((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(y(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){const i=t.target.children.item(n);if(i){if(l in i)return!1;y(t.target,i),e.add(i)}}}if(t.removedNodes.length)for(let n=0;n<t.removedNodes.length;n++){const o=t.removedNodes[n];if(l in o)return!1;o instanceof Element&&(e.add(o),y(t.target,o),i.set(o,[t.previousSibling,t.nextSibling]))}}return e}),new Set)}(e);t&&t.forEach((e=>function(e){var t;const a=f.contains(e),s=n.has(e);a&&i.has(e)&&i.delete(e);o.has(e)&&(null===(t=o.get(e))||void 0===t||t.cancel());s&&a?function(e){const t=n.get(e),i=M(e);if(!$(e))return n.set(e,i);let r;if(!t)return;const a=W(e);if("function"!=typeof a){const n=t.left-i.left,o=t.top-i.top,[s,d,c,f]=x(e,t,i),u={transform:`translate(${n}px, ${o}px)`},l={transform:"translate(0, 0)"};s!==d&&(u.width=`${s}px`,l.width=`${d}px`),c!==f&&(u.height=`${c}px`,l.height=`${f}px`),r=e.animate([u,l],{duration:a.duration,easing:a.easing})}else r=new Animation(a(e,"remain",t,i)),r.play();o.set(e,r),n.set(e,i),r.addEventListener("finish",g.bind(null,e))}(e):s&&!a?function(e){var t;if(!i.has(e)||!n.has(e))return;const[a,s]=i.get(e);Object.defineProperty(e,l,{value:!0}),s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(e,s):a&&a.parentNode?a.parentNode.appendChild(e):null===(t=O(e))||void 0===t||t.appendChild(e);function d(){var t;e.remove(),n.delete(e),i.delete(e),o.delete(e),null===(t=r.get(e))||void 0===t||t.disconnect()}if(!$(e))return d();const[c,f,u,p]=function(e){const t=n.get(e),[i,,o]=x(e,t,M(e));let r=e.parentElement;for(;r&&("static"===getComputedStyle(r).position||r instanceof HTMLBodyElement);)r=r.parentElement;r||(r=document.body);const a=getComputedStyle(r),s=n.get(r)||M(r),d=Math.round(t.top-s.top)-E(a.borderTopWidth),c=Math.round(t.left-s.left)-E(a.borderLeftWidth);return[d,c,i,o]}(e),h=W(e),g=n.get(e);let m;Object.assign(e.style,{position:"absolute",top:`${c}px`,left:`${f}px`,width:`${u}px`,height:`${p}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),"function"!=typeof h?m=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:h.duration,easing:"ease-out"}):(m=new Animation(h(e,"remove",g)),m.play());o.set(e,m),m.addEventListener("finish",d)}(e):function(e){const t=M(e);n.set(e,t);const i=W(e);if(!$(e))return;let r;"function"!=typeof i?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*i.duration,easing:"ease-in"}):(r=new Animation(i(e,"add",t)),r.play());o.set(e,r),r.addEventListener("finish",g.bind(null,e))}(e)}(e)))},h=e=>{e.forEach((e=>{e.target===f&&(clearTimeout(d.get(f)),d.set(f,setTimeout((()=>{t.forEach((e=>k(e,(e=>v((()=>g(e)))))))}),100))),n.has(e.target)&&g(e.target)}))};function g(e){clearTimeout(d.get(e));const t=W(e),i="function"==typeof t?500:t.duration;d.set(e,setTimeout((async()=>{const t=o.get(e);t&&!await t.finished||(n.set(e,M(e)),function(e){const t=r.get(e);null==t||t.disconnect();let i=n.get(e),o=0;i||(i=M(e),n.set(e,i));const{offsetWidth:a,offsetHeight:s}=f,d=[i.top-5,a-(i.left+5+i.width),s-(i.top+5+i.height),i.left-5].map((e=>-1*Math.floor(e)+"px")).join(" "),c=new IntersectionObserver((()=>{++o>1&&g(e)}),{root:f,threshold:1,rootMargin:d});c.observe(e),r.set(e,c)}(e))}),i))}function m(e){setTimeout((()=>{a.set(e,setInterval((()=>v(g.bind(null,e))),2e3))}),Math.round(2e3*Math.random()))}function v(e){"function"==typeof requestIdleCallback?requestIdleCallback((()=>e())):requestAnimationFrame((()=>e()))}let b,w;function y(e,t){t||u in e?t&&!(u in t)&&Object.defineProperty(t,u,{value:e}):Object.defineProperty(e,u,{value:e})}function E(e){return Number(e.replace(/[^0-9.\-]/g,""))}function M(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function x(e,t,n){let i=t.width,o=t.height,r=n.width,a=n.height;const s=getComputedStyle(e);if("content-box"===s.getPropertyValue("box-sizing")){const e=E(s.paddingTop)+E(s.paddingBottom)+E(s.borderTopWidth)+E(s.borderBottomWidth),t=E(s.paddingLeft)+E(s.paddingRight)+E(s.borderRightWidth)+E(s.borderLeftWidth);i-=t,r-=t,o-=e,a-=e}return[i,r,o,a].map(Math.round)}function W(e){return u in e&&s.has(e[u])?s.get(e[u]):{duration:250,easing:"ease-in-out"}}function O(e){if(u in e)return e[u]}function $(e){const t=O(e);return!!t&&c.has(t)}function k(e,...t){t.forEach((t=>t(e,s.has(e))));for(let n=0;n<e.children.length;n++){const i=e.children.item(n);i&&t.forEach((e=>e(i,s.has(i))))}}"undefined"!=typeof window&&(f=document.documentElement,b=new MutationObserver(p),w=new ResizeObserver(h),w.observe(f));var L={};function j(n){n.directive("auto-animate",(function(n,i,o){var r=i.expression,a=i.modifiers,d=o.evaluateLater,f=o.effect,u={},l=a.filter((function(e){return e.match(/^\d+m?s$/)}))[0]||null;if(l){var p=!!l.match(/ms$/),h=+l.match(/^\d+/);u.duration=h*(p?1:1e3)}var v=a.filter((function(e){return!e.match(/^\d+m?s$/)}))[0]||null;v&&(u.easing=v);var y=function(e,n={}){b&&w&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&"function"!=typeof n&&!n.disrespectUserMotionPreference||(c.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),k(e,g,m,(e=>null==w?void 0:w.observe(e))),"function"==typeof n?s.set(e,n):s.set(e,{duration:250,easing:"ease-in-out",...n}),b.observe(e,{childList:!0}),t.add(e)));return Object.freeze({parent:e,enable:()=>{c.add(e)},disable:()=>{c.delete(e)},isEnabled:()=>c.has(e)})}(n,e(e({},L),u));if(r){var E=d(r);f((function(){E((function(e){e?y.enable():y.disable()}))}))}}))}j.configure=function(e){L=e},document.addEventListener("alpine:init",(function(){j(window.Alpine)}))}));
//# sourceMappingURL=alpine-auto-animate.min.js.map
