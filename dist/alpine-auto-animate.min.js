!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";const e=new Set,t=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,r=new WeakMap,s=new WeakMap,d=new WeakSet;let c;const l="__aa_tgt",f="__aa_del",u=e=>{const a=function(e){return e.reduce(((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(v(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){const i=t.target.children.item(n);if(i){if(f in i)return!1;v(t.target,i),e.add(i)}}}if(t.removedNodes.length)for(let i=0;i<t.removedNodes.length;i++){const o=t.removedNodes[i];if(f in o)return!1;o instanceof Element&&(e.add(o),v(t.target,o),n.set(o,[t.previousSibling,t.nextSibling]))}}return e}),new Set)}(e);a&&a.forEach((e=>function(e){var a;const r=c.contains(e),s=t.has(e);r&&n.has(e)&&n.delete(e);i.has(e)&&(null===(a=i.get(e))||void 0===a||a.cancel());s&&r?function(e){const n=t.get(e),o=E(e);if(!$(e))return t.set(e,o);let a;if(!n)return;const r=x(e);if("function"!=typeof r){const t=n.left-o.left,i=n.top-o.top,[s,d,c,l]=M(e,n,o),f={transform:`translate(${t}px, ${i}px)`},u={transform:"translate(0, 0)"};s!==d&&(f.width=`${s}px`,u.width=`${d}px`),c!==l&&(f.height=`${c}px`,u.height=`${l}px`),a=e.animate([f,u],{duration:r.duration,easing:r.easing})}else a=new Animation(r(e,"remain",n,o)),a.play();i.set(e,a),t.set(e,o),a.addEventListener("finish",h.bind(null,e))}(e):s&&!r?function(e){var a;if(!n.has(e)||!t.has(e))return;const[r,s]=n.get(e);Object.defineProperty(e,f,{value:!0}),s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(e,s):r&&r.parentNode?r.parentNode.appendChild(e):null===(a=W(e))||void 0===a||a.appendChild(e);function d(){var a;e.remove(),t.delete(e),n.delete(e),i.delete(e),null===(a=o.get(e))||void 0===a||a.disconnect()}if(!$(e))return d();const[c,l,u,p]=function(e){const n=t.get(e),[i,,o]=M(e,n,E(e));let a=e.parentElement;for(;a&&("static"===getComputedStyle(a).position||a instanceof HTMLBodyElement);)a=a.parentElement;a||(a=document.body);const r=getComputedStyle(a),s=t.get(a)||E(a),d=Math.round(n.top-s.top)-y(r.borderTopWidth),c=Math.round(n.left-s.left)-y(r.borderLeftWidth);return[d,c,i,o]}(e),h=x(e),g=t.get(e);let m;Object.assign(e.style,{position:"absolute",top:`${c}px`,left:`${l}px`,width:`${u}px`,height:`${p}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),"function"!=typeof h?m=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:h.duration,easing:"ease-out"}):(m=new Animation(h(e,"remove",g)),m.play());i.set(e,m),m.addEventListener("finish",d)}(e):function(e){const n=E(e);t.set(e,n);const o=x(e);if(!$(e))return;let a;"function"!=typeof o?a=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*o.duration,easing:"ease-in"}):(a=new Animation(o(e,"add",n)),a.play());i.set(e,a),a.addEventListener("finish",h.bind(null,e))}(e)}(e)))},p=n=>{n.forEach((n=>{n.target===c&&(clearTimeout(s.get(c)),s.set(c,setTimeout((()=>{e.forEach((e=>k(e,(e=>m((()=>h(e)))))))}),100))),t.has(n.target)&&h(n.target)}))};function h(e){clearTimeout(s.get(e));const n=x(e),a="function"==typeof n?500:n.duration;s.set(e,setTimeout((async()=>{const n=i.get(e);n&&!await n.finished||(t.set(e,E(e)),function(e){const n=o.get(e);null==n||n.disconnect();let i=t.get(e),a=0;i||(i=E(e),t.set(e,i));const{offsetWidth:r,offsetHeight:s}=c,d=[i.top-5,r-(i.left+5+i.width),s-(i.top+5+i.height),i.left-5].map((e=>-1*Math.floor(e)+"px")).join(" "),l=new IntersectionObserver((()=>{++a>1&&h(e)}),{root:c,threshold:1,rootMargin:d});l.observe(e),o.set(e,l)}(e))}),a))}function g(e){setTimeout((()=>{a.set(e,setInterval((()=>m(h.bind(null,e))),2e3))}),Math.round(2e3*Math.random()))}function m(e){"function"==typeof requestIdleCallback?requestIdleCallback((()=>e())):requestAnimationFrame((()=>e()))}let w,b;function v(e,t){t||l in e?t&&!(l in t)&&Object.defineProperty(t,l,{value:e}):Object.defineProperty(e,l,{value:e})}function y(e){return Number(e.replace(/[^0-9.\-]/g,""))}function E(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function M(e,t,n){let i=t.width,o=t.height,a=n.width,r=n.height;const s=getComputedStyle(e);if("content-box"===s.getPropertyValue("box-sizing")){const e=y(s.paddingTop)+y(s.paddingBottom)+y(s.borderTopWidth)+y(s.borderBottomWidth),t=y(s.paddingLeft)+y(s.paddingRight)+y(s.borderRightWidth)+y(s.borderLeftWidth);i-=t,a-=t,o-=e,r-=e}return[i,a,o,r].map(Math.round)}function x(e){return l in e&&r.has(e[l])?r.get(e[l]):{duration:250,easing:"ease-in-out"}}function W(e){if(l in e)return e[l]}function $(e){const t=W(e);return!!t&&d.has(t)}function k(e,...t){t.forEach((t=>t(e,r.has(e))));for(let n=0;n<e.children.length;n++){const i=e.children.item(n);i&&t.forEach((e=>e(i,r.has(i))))}}"undefined"!=typeof window&&(c=document.documentElement,w=new MutationObserver(u),b=new ResizeObserver(p),b.observe(c));let O={};function C(t){t.directive("auto-animate",((t,{expression:n,modifiers:i},{evaluate:o})=>{let a={};const s=i.filter((e=>e.match(/^\d+m?s$/)))[0]||null;if(s){const e=!!s.match(/ms$/),t=+s.match(/^\d+/);a.duration=t*(e?1:1e3)}const c=i.filter((e=>!e.match(/^\d+m?s$/)))[0]||null;c&&(a.easing=c),function(t,n={}){w&&b&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&"function"!=typeof n&&!n.disrespectUserMotionPreference||(d.add(t),"static"===getComputedStyle(t).position&&Object.assign(t.style,{position:"relative"}),k(t,h,g,(e=>null==b?void 0:b.observe(e))),"function"==typeof n?r.set(t,n):r.set(t,{duration:250,easing:"ease-in-out",...n}),w.observe(t,{childList:!0}),e.add(t)));Object.freeze({parent:t,enable:()=>{d.add(t)},disable:()=>{d.delete(t)},isEnabled:()=>d.has(t)})}(t,{...O,...a})}))}C.configure=e=>{O=e},document.addEventListener("alpine:init",(()=>{C(window.Alpine)}))}));
//# sourceMappingURL=alpine-auto-animate.min.js.map
